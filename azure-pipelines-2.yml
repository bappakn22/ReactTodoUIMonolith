
trigger: none


pool: 
 vmImage: ubuntu-latest


#  name: jumpagent
#  demands:
#    - agent.name -equals jumpvmagent
  

stages:
  - stage: installnpm
    jobs:
      - job: npminstall
        steps:
        - task: Npm@1
          displayName: npm_install
          inputs:
            command: 'install'
            workingDir: '$(System.DefaultWorkingDirectory)'

        - task: Npm@1
          displayName: npm_build
          inputs:
            command: 'custom'
            workingDir: '$(System.DefaultWorkingDirectory)'
            customCommand: 'run build'

        - task: PublishBuildArtifacts@1
          displayName: publish artifacts
          inputs:
            PathtoPublish: '$(Build.ArtifactStagingDirectory)'
            ArtifactName: 'droptodo'
            publishLocation: 'Container'
        
